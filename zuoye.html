
<!doctype html>
<html lang="en">

<head>
    <title>Title</title>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
</head>

<body>
    <!-- view -->
    <div id='app'>
        <!-- 导航栏 -->
        <nav class="mb-5 navbar navbar-expand-lg navbar-dark bg-success">
            <a class="navbar-brand" href="#">{{title}}</a>
            <button class="navbar-toggler d-lg-none" type="button" data-toggle="collapse"
                data-target="#collapsibleNavId" aria-controls="collapsibleNavId" aria-expanded="false"
                aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="collapsibleNavId">
                <ul class="navbar-nav mr-auto mt-2 mt-lg-0">
                    <!-- <li class="nav-item active">
                        <a class="nav-link" href="#">Home</a>
                    </li> -->
                    <li v-for="(menu, index) in menus" :key="index" class="nav-item" :class="{active : index==0}">
                        <a class="nav-link" href="#">{{menu}}</a>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="dropdownId" data-toggle="dropdown"
                            aria-haspopup="true" aria-expanded="false">关于</a>
                        <div class="dropdown-menu" aria-labelledby="dropdownId">
                            <a v-for="(item, index) in abouts" :key="index" class="dropdown-item" href="#">{{item}}</a>
                        </div>
                    </li>
                </ul>
                <form class="form-inline my-2 my-lg-0">
                    <input class="form-control mr-sm-2" type="text" placeholder="搜索题目、用户">
                    <button class="btn btn-outline-light my-2 my-sm-0" type="submit">搜索</button>
                </form>
            </div>
        </nav>
        <!-- 答题区 -->
        <div v-if="!isFinish" class="container">
            <!-- 进度条 -->
            <div class="progress mb-3">
                <div class="progress-bar progress-bar-striped progress-bar-animated bg-primary" role="progressbar"
                    :style="progressStyle" aria-valuenow="10" aria-valuemin="0" aria-valuemax="100">{{progress/(questionList.length-1)*100}}%</div>
            </div>
            <div class="jumbotron">
                <!-- 题目 -->
                <h1 class="display-4"><span class="badge badge-dark mr-3">{{question.id}}</span>{{question.title}}</h1>
                <hr class="my-2">
                <!-- 选项 -->
                <div @click="add(itemIndexs[index],progress)"
                v-for="(item, index) in question.item" :key="index" class="form-check my-2">
                    <label class="form-check-label">
                        <input type="radio" class="form-check-input" name="item" :value="itemIndexs[index]">
                        <span 
                        class="badge badge-danger mr-2">{{itemIndexs[index]}}</span>{{item}}
                    </label>
                </div>
                <!-- 按钮 -->
                <div class="row">
                    <div class="col-lg">
                        <button disabled v-if="progress==0" type="button" class="btn btn-secondary w-100 ">上一题</button>
                        <button v-else @click="prev()" type="button" class="btn btn-danger w-100 ">上一题</button>
                    </div>
                    <div class="col-lg">
                        <button v-if="isLast" type="button"
                            class="btn btn-primary w-100 mt-sm-3 mt-lg-0">提交</button>
                        <button v-else @click="next()" type="button"
                            class="btn btn-success w-100 mt-sm-3 mt-lg-0">下一题</button>
                    </div>
                </div>
            </div>
        </div>
    <!-- viewModel -->
    <script>
        let vm = new Vue({
            el: '#app',
            data: {
                title: '在线测试',
                menus: ['首页', '单选题', '多选题', '模拟测试'],
                abouts: ['联系我们', '加入我们', '其他信息'],
                isFinish: false,
                progress: 0,
                itemIndexs: ['A', 'B', 'C', 'D', 'E'],
                answerList:[],
                score:0,
                questionList: [
                    {
                        id: 1,
                        title: '最好的编程语言',
                        item: ['PHP', 'C', 'JS', 'JAVA'],
                        items: 'A'
                    },
                    {
                        id: 2,
                        title: '最流行的数据库是？',
                        item: ['DB2', 'Oracle', 'SQL Server', 'MySQL'],
                        items: 'D'
                    },
                    {
                        id: 3,
                        title: '最高级的数据库是？',
                        item: ['Redis', 'MySQL', 'PostgreSQL', 'MongDB'],
                        items: 'C'
                    },
                    {
                        id: 4,
                        title: '市值最高的公司是？',
                        item: ['微软', '亚马逊', '苹果', '中国建设银行'],
                        items: 'C'
                    },
                    {
                        id: 5,
                        title: '最好的web前端是？',
                        item: ['Angular', 'Vue', 'React', 'JQuery'],
                        items: 'B'
                    },
                    // {
                    //     id: 6,
                    //     title: '你的男神是？',
                    //     item: ['李易峰', '宋小宝', '郭德纲', '马东'],
                    //     items: 'B'
                    // },
                    // {
                    //     id: 7,
                    //     title: '哪个城市美女多？',
                    //     item: ['杭州', '上海', '北京', '深圳'],
                    //     items: 'A'
                    // },
                    // {
                    //     id: 8,
                    //     title: '最好玩的游戏是？',
                    //     item: ['LOL', 'DNF', 'CS', 'GTA5'],
                    //     items: 'A'
                    // },
                    // {
                    //     id: 9,
                    //     title: '哪里有诗和远方？',
                    //     item: ['澳大利亚', '新加坡', '内蒙古', '红海'],
                    //     items: 'C'
                    // },
                    // {
                    //     id: 10,
                    //     title: '李诞没有吐槽过谁',
                    //     item: ['杨颖', '甄子丹', '张绍刚', '胡歌'],
                    //     items: ''D
                    // }
                ]
            },
            methods: {
                next: function () {
                    this.progress++;
                },
                prev: function () {
                    this.progress--;
                },
                add:function(value,index){
                    this.answerList.splice(index,1,value);
                },
                getScore: function(){
                    for (const index in this.questionList) {
                        if(this.questionList[index].items===this.answerList[index]){
                            this.score++;
                        }
                    }
                    this.isFinish=true;
                }
            },
            computed: {
                question: function () {
                    return this.questionList[this.progress];
                },
                progressStyle: function () {
                    return 'width:'+this.progress/(this.questionList.length-1)*100+'%;';
                },
                isLast: function () {
                    return this.progress == this.questionList.length - 1;
                },
            },
            mounted() {

            },
        });
    </script>
    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
        integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
        crossorigin="anonymous"></script>
</body>

</html>